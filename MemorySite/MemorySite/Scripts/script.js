var allowAvoidTransforms=false;if(navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i)){allowAvoidTransforms=true;(function(d,C,D){function J(a,b,l,c){if("d"!=l&&E(a)){var f=K.exec(b),e="auto"===a.css(l)?0:a.css(l),e="string"==typeof e?z(e):e;"string"==typeof b&&z(b);c=!0===c?0:e;var g=a.is(":hidden"),n=a.translation();"left"==l&&(c=parseInt(e,10)+n.x);"right"==l&&(c=parseInt(e,10)+n.x);"top"==l&&(c=parseInt(e,10)+n.y);"bottom"==l&&(c=parseInt(e,10)+n.y);if(f||"show"!=b)f||"hide"!=b||(c=0);else if(c=1,g)elem=a[0],elem.style&&(display=elem.style.display,d._data(elem,"olddisplay")||"none"!==display||(display=elem.style.display=""),""===display&&"none"===d.css(elem,"display")&&d._data(elem,"olddisplay",L(elem.tagName)),""===display||"none"===display)&&(elem.style.display=d._data(elem,"olddisplay")||""),a.css("opacity",0);return f?(a=parseFloat(f[2]),f[1]&&(a=("-="===f[1]?-1:1)*a+parseInt(c,10)),f[3]&&"px"!=f[3]&&(a+=f[3]),a):c}}function M(a,b,l,c,f,e,g,n){var m=a.data(r),m=m&&!q(m)?m:d.extend(!0,{},N),s=f;if(-1<d.inArray(b,A)){var k=m.meta,p=z(a.css(b))||0,t=b+"_o",s=f-p;k[b]=s;k[t]="auto"==a.css(b)?0+s:p+s||0;m.meta=k;g&&0===s&&(s=0-k[t],k[b]=s,k[t]=0)}return a.data(r,O(a,m,b,l,c,s,e,g,n))}function O(a,b,d,c,f,e,g,n,m){var s=!1;g=!0===g&&!0===n;b=b||{};b.original||(b.original={},s=!0);b.properties=b.properties||{};b.secondary=b.secondary||{};n=b.meta;for(var r=b.original,p=b.properties,t=b.secondary,h=k.length-1;0<=h;h--){var u=k[h]+"transition-property",v=k[h]+"transition-duration",q=k[h]+"transition-timing-function";d=g?k[h]+"transform":d;s&&(r[u]=a.css(u)||"",r[v]=a.css(v)||"",r[q]=a.css(q)||"");var P=t,Q=d,w;if(g){w=n.left;var F=n.top;w=!0===m||!0===B&&!1!==m&&G?"translate3d("+w+"px, "+F+"px, 0)":"translate("+w+"px,"+F+"px)"}else w=e;P[Q]=w;p[u]=(p[u]?p[u]+",":"")+d;p[v]=(p[v]?p[v]+",":"")+c+"ms";p[q]=(p[q]?p[q]+",":"")+f}return b}function R(a){for(var b in a)if(!("width"!=b&&"height"!=b||"show"!=a[b]&&"hide"!=a[b]&&"toggle"!=a[b]))return!0;return!1}function q(a){for(var b in a)return!1;return!0}function L(a){a=a.toUpperCase();var b={LI:"list-item",TR:"table-row",TD:"table-cell",TH:"table-cell",CAPTION:"table-caption",COL:"table-column",COLGROUP:"table-column-group",TFOOT:"table-footer-group",THEAD:"table-header-group",TBODY:"table-row-group"};return"string"==typeof b[a]?b[a]:"block"}function z(a){return parseFloat(a.replace(a.match(/\D+$/),""))}function E(a){var b=!0;a.each(function(a,d){return b=b&&d.ownerDocument});return b}function S(a,b,l){if(!E(l))return!1;var c=-1<d.inArray(a,T);"width"!=a&&"height"!=a&&"opacity"!=a||parseFloat(b)!==parseFloat(l.css(a))||(c=!1);return c}var T="top right bottom left opacity height width".split(" "),A=["top","right","bottom","left"],k=["-webkit-","-moz-","-o-",""],U=["avoidTransforms","useTranslate3d","leaveTransforms"],K=/^([+-]=)?([\d+-.]+)(.*)$/,V=/([A-Z])/g,N={secondary:{},meta:{top:0,right:0,bottom:0,left:0}},r="jQe",H=null,x=!1,y=(document.body||document.documentElement).style,I=void 0!==y.WebkitTransition||void 0!==y.MozTransition||void 0!==y.OTransition||void 0!==y.transition,G="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,B=G;d.expr&&d.expr.filters&&(H=d.expr.filters.animated,d.expr.filters.animated=function(a){return d(a).data("events")&&d(a).data("events")["webkitTransitionEnd oTransitionEnd transitionend"]?!0:H.call(this,a)});d.extend({toggle3DByDefault:function(){return B=!B},toggleDisabledByDefault:function(){return x=!x},setDisabledByDefault:function(a){return x=a}});d.fn.translation=function(){if(!this[0])return null;var a=window.getComputedStyle(this[0],null),b={x:0,y:0};if(a)for(var d=k.length-1;0<=d;d--){var c=a.getPropertyValue(k[d]+"transform");if(c&&/matrix/i.test(c)){a=c.replace(/^matrix\(/i,"").split(/, |\)$/g);b={x:parseInt(a[4],10),y:parseInt(a[5],10)};break}}return b};d.fn.animate=function(a,b,l,c){a=a||{};var f=!("undefined"!==typeof a.bottom||"undefined"!==typeof a.right),e=d.speed(b,l,c),g=0,n=function(){g--;0===g&&"function"===typeof e.complete&&e.complete.apply(this,arguments)};return!0===("undefined"!==typeof a.avoidCSSTransitions?a.avoidCSSTransitions:x)||!I||q(a)||R(a)||0>=e.duration||e.step?C.apply(this,arguments):this[!0===e.queue?"queue":"each"](function(){var b=d(this),c=d.extend({},e),l=function(c){var e=b.data(r)||{original:{}},g={};if(2==c.eventPhase){if(!0!==a.leaveTransforms){for(c=k.length-1;0<=c;c--)g[k[c]+"transform"]="";if(f&&"undefined"!==typeof e.meta){c=0;for(var h;h=A[c];++c)g[h]=e.meta[h+"_o"]+"px",d(this).css(h,g[h])}}b.unbind("webkitTransitionEnd oTransitionEnd transitionend").css(e.original).css(g).data(r,null);"hide"===a.opacity&&(elem=b[0],elem.style&&(display=d.css(elem,"display"),"none"===display||d._data(elem,"olddisplay")||d._data(elem,"olddisplay",display),elem.style.display="none"),b.css("opacity",""));n.call(this)}},p={bounce:"cubic-bezier(0.0, 0.35, .5, 1.3)",linear:"linear",swing:"ease-in-out",easeInQuad:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",easeInCubic:"cubic-bezier(0.550, 0.055, 0.675, 0.190)",easeInQuart:"cubic-bezier(0.895, 0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755, 0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470, 0.000, 0.745, 0.715)",easeInExpo:"cubic-bezier(0.950, 0.050, 0.795, 0.035)",easeInCirc:"cubic-bezier(0.600, 0.040, 0.980, 0.335)",easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeOutQuad:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",easeOutCubic:"cubic-bezier(0.215, 0.610, 0.355, 1.000)",easeOutQuart:"cubic-bezier(0.165, 0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230, 1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeOutExpo:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",easeOutCirc:"cubic-bezier(0.075, 0.820, 0.165, 1.000)",easeOutBack:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",easeInOutQuad:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",easeInOutCubic:"cubic-bezier(0.645, 0.045, 0.355, 1.000)",easeInOutQuart:"cubic-bezier(0.770, 0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860, 0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)",easeInOutExpo:"cubic-bezier(1.000, 0.000, 0.000, 1.000)",easeInOutCirc:"cubic-bezier(0.785, 0.135, 0.150, 0.860)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)"},t={},p=p[c.easing||"swing"]?p[c.easing||"swing"]:c.easing||"swing",h;for(h in a)if(-1===d.inArray(h,U)){var u=-1<d.inArray(h,A),v=J(b,a[h],h,u&&!0!==a.avoidTransforms);S(h,v,b)?M(b,h,c.duration,p,v,u&&!0!==a.avoidTransforms,f,a.useTranslate3d):t[h]=a[h]}b.unbind("webkitTransitionEnd oTransitionEnd transitionend");h=b.data(r);if(!h||q(h)||q(h.secondary))c.queue=!1;else{g++;b.css(h.properties);var x=h.secondary;setTimeout(function(){b.bind("webkitTransitionEnd oTransitionEnd transitionend",l).css(x)})}q(t)||(g++,C.apply(b,[t,{duration:c.duration,easing:d.easing[c.easing]?c.easing:d.easing.swing?"swing":"linear",complete:n,queue:c.queue}]));return!0})};d.fn.animate.defaults={};d.fn.stop=function(a,b,l){if(!I)return D.apply(this,[a,b]);a&&this.queue([]);this.each(function(){var c=d(this),f=c.data(r);if(f&&!q(f)){var e,g={};if(b){if(g=f.secondary,!l&&void 0!==typeof f.meta.left_o||void 0!==typeof f.meta.top_o)for(g.left=void 0!==typeof f.meta.left_o?f.meta.left_o:"auto",g.top=void 0!==typeof f.meta.top_o?f.meta.top_o:"auto",e=k.length-1;0<=e;e--)g[k[e]+"transform"]=""}else if(!q(f.secondary)){var n=window.getComputedStyle(c[0],null);if(n)for(var m in f.secondary)if(f.secondary.hasOwnProperty(m)&&(m=m.replace(V,"-$1").toLowerCase(),g[m]=n.getPropertyValue(m),!l&&/matrix/i.test(g[m])))for(e=g[m].replace(/^matrix\(/i,"").split(/, |\)$/g),g.left=parseFloat(e[4])+parseFloat(c.css("left"))+"px"||"auto",g.top=parseFloat(e[5])+parseFloat(c.css("top"))+"px"||"auto",e=k.length-1;0<=e;e--)g[k[e]+"transform"]=""}c.unbind("webkitTransitionEnd oTransitionEnd transitionend");c.css(f.original).css(g).data(r,null)}else D.apply(c,[a,b])});return this}})(jQuery,jQuery.fn.animate,jQuery.fn.stop);}
$(function(){jQuery.easing["jswing"]=jQuery.easing["swing"];jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t+n;return-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t+n;return r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t+n;return-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t*t+n;return r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){if(t==0)return n;if(t==i)return n+r;if((t/=i/2)<1)return r/2*Math.pow(2,10*(t-1))+n;return r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){if((t/=i/2)<1)return-r/2*(Math.sqrt(1-t*t)-1)+n;return r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i)==1)return n+r;if(!o)o=i*.3;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i)==1)return n+r;if(!o)o=i*.3;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i/2)==2)return n+r;if(!o)o=i*.3*1.5;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);if(t<1)return-.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n;return u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n},easeInBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;return r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;return r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){if(s==undefined)s=1.70158;if((t/=i/2)<1)return r/2*t*t*(((s*=1.525)+1)*t-s)+n;return r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,r,i){return r-jQuery.easing.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){if((t/=i)<1/2.75){return r*7.5625*t*t+n}else if(t<2/2.75){return r*(7.5625*(t-=1.5/2.75)*t+.75)+n}else if(t<2.5/2.75){return r*(7.5625*(t-=2.25/2.75)*t+.9375)+n}else{return r*(7.5625*(t-=2.625/2.75)*t+.984375)+n}},easeInOutBounce:function(e,t,n,r,i){if(t<i/2)return jQuery.easing.easeInBounce(e,t*2,0,r,i)*.5+n;return jQuery.easing.easeOutBounce(e,t*2-i,0,r,i)*.5+r*.5+n}})
$('html').removeClass('no-js').addClass('has-js');var isSafari=/constructor/i.test(window.HTMLElement);if(isSafari){$("html").addClass("safari");}
if($.browser.msie){$('body').addClass('ie');}
isIE11=!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)
if(isIE11){$('body').addClass('ie11');}
$("a[href^='buildm']").each(function(){var $a=$(this);var href=$a.attr("href");href=href.replace("buildm","mailto");$a.attr("href",href);});function checkLayersOrientation(){if(typeof window.orientation!="undefined"){if(navigator.userAgent.match(/iPhone/i)){$("#mobiles-all").show();if(window.orientation==0||window.orientation==180){$("#mobiles-all .title").show();$("#mobiles-all p br").show();$("#mobiles-all .animcontainer").css("margin-top","30%");}else{$("#mobiles-all .title").hide();$("#mobiles-all p br").hide();$("#mobiles-all .animcontainer").css("margin-top",0);}
if(typeof(AN)==="undefined"){var AN={}}AN.instances={symbols:[],controllers:[]};AN.apiVersion=1;AN.Controller=function(){return{currentScene:false,userData:{},setConfig:function(a){AN.instances.controllers.push(this);this.events=a.events;this.prefix=a.cssPrefix;this.projectActions=a.projectActions;this.basePath=a.basePath?a.basePath:"";this.olElement=document.querySelector("#"+a.parentId+" ol");var d=this.olElement.children;this.useOrmma=a.ormma;this.scenes=[];this.scenesById={};this.sceneByName={};var g;for(var e=0;e<a.scenes.length;e++){g=a.scenes[e];g.element=d[e];g.timelinesById={};g.timelinesByName={};for(var c=0;c<g.timelines.length;c++){g.timelinesById[g.timelines[c].id]=g.timelines[c];g.timelinesByName[g.timelines[c].name]=g.timelines[c]}this.scenesById[g.id]=g;this.scenes.push(g);if(g.name){this.sceneByName[g.name]=g}}this.setupListeners();this.startSceneByName=this.goToSceneByName;this.startSceneById=this.goToSceneById;this.startSceneByID=this.startSceneById;this.symbolInstancesByHtmlId={};this.symbolInstancesById={};this.symbols=[];var h,b,f;for(var e=0;e<a.symbols.length;e++){h=a.symbols[e];this.symbolInstancesById[h.id]=[];b=this.olElement.querySelectorAll(".an-symbol-container-"+h.id);for(var c=0;c<b.length;c++){f=new AN.Symbol();f.setConfig(b[c],h,this);this.symbolInstancesByHtmlId[b[c].id]=f;this.symbolInstancesById[h.id].push(f);this.symbols.push(f)}}this.fireAction(this.projectActions,"init");this.goToScene(this.scenes[0])},setupListeners:function(){var l=this;this.browser="unknown";if(document.body.style.MozAnimationName!==undefined){this.browser="moz"}function h(j){var i;if(l.browser==="moz"){i=j.target;while(i=i.parentNode){if(i===l.currentScene.element){l.onAnimationEnd();return}}}else{l.onAnimationEnd()}}this.olElement.addEventListener("webkitAnimationEnd",h,false);this.olElement.addEventListener("animationend",h,false);function c(i){i.element.addEventListener("mousemove",function(j){i.mousemoveAction.call(l.userData,l,j)},false)}var g;for(var e=0;e<this.scenes.length;e++){g=this.scenes[e];if(g.mousemoveAction){c(g)}}function a(m,j,i){m.addEventListener(j,function(n){i.call(l.userData,l,n)},false)}var f,b,k;for(var e=0;e<this.events.length;e++){b=this.events[e];k=b.type;f=document.getElementById(b.id);for(var d=0;d<k.length;d++){a(f,k[d],b.handler)}}},onAnimationEnd:function(){this.runningAnimationCount--;if(this.runningAnimationCount===0){this.onAllAnimationEnd()}},onAllAnimationEnd:function(){var a=this.currentScene.currentTimeline.endWaitTime;if(a){var b=this;this.sceneTimeout=setTimeout(function(){b.onSceneFinish()},a*1000)}else{this.onSceneFinish()}},forceRefresh:function(a){this.forceRefreshValue=a.element.offsetHeight},fireAction:function(b,a){if(b&&b[a]){b[a].call(this.userData,this)}},getSymbolByHtmlId:function(a){return this.symbolInstancesByHtmlId[a]},getSymbolByInstanceId:function(b){var a=this.olElement.querySelector(".an-symbol-container.an-symbol-"+b);return this.getSymbolByHtmlId(a.id)},getSymbols:function(){return this.symbols},getSymbolsBySymbolMasterId:function(a){return this.symbolInstancesById[a]},getUserData:function(){return this.userData},getTimelineByIndex:function(a){return this.currentScene.timelines[a]},getTimelineById:function(a){return this.currentScene.timelinesById[a]},getTimelineByName:function(a){return this.currentScene.timelinesByName[a]},getCurrentTimeline:function(){return this.currentScene.currentTimeline},getCurrentScene:function(){return this.currentScene},getSceneByIndex:function(a){return this.scenes[a]},getSceneById:function(a){return this.scenesById[a]},getSceneByName:function(a){return this.sceneByName[a]},goToNextTimeline:function(){var b=this.currentScene.timelines.indexOf(this.currentScene.currentTimeline);var a=Math.min(b+1,this.currentScene.timelines.length-1);if(a===b){return}this.goToTimelineByIndex(a)},goToPreviousTimeline:function(){var b=this.currentScene.timelines.indexOf(this.currentScene.currentTimeline);var a=Math.max(b-1,0);if(b===a){return}this.goToTimelineByIndex(a)},goToTimelineById:function(a){this.goToScene(this.currentScene,this.currentScene.timelinesById[a])},goToTimelineByName:function(a){this.goToScene(this.currentScene,this.currentScene.timelinesByName[a])},goToTimelineByIndex:function(a){this.goToScene(this.currentScene,this.currentScene.timelines[a])},goToTimeline:function(a){this.goToScene(this.currentScene,a)},goToNextScene:function(){var b=this.scenes.indexOf(this.currentScene);var a=Math.min(b+1,this.scenes.length-1);if(b===a){return}this.goToSceneByIndex(a)},goToPreviousScene:function(){var a=this.scenes.indexOf(this.currentScene);var b=Math.max(a-1,0);if(a===b){return}this.goToSceneByIndex(b)},goToSceneByIndex:function(a){this.goToScene(this.scenes[a])},goToSceneByName:function(a){this.goToScene(this.sceneByName[a])},goToSceneById:function(a,b){var c=this.scenesById[a];this.goToScene(c,c.timelinesById[b])},goToScene:function(g,f){var d=g;var e=this.currentScene;var a=f;var c=e?e.currentTimeline:false;if(a===undefined){a=d.timelines[0]}var b=false;if(c===a&&e===d){b=true}else{if(e){e.element.setAttribute("class","")}}this.fireAction(c,"exitAction");clearTimeout(this.sceneTimeout);if(e!==d){this.fireAction(e,"exitAction");this.fireAction(d,"initAction")}this.fireAction(a,"initAction");this.runningAnimationCount=a.animationCount;this.currentScene=d;d.currentTimeline=a;var h="t-"+a.id;if(b||this.browser==="moz"){d.element.setAttribute("class","run restart "+h);this.forceRefresh(d)}d.element.setAttribute("class","run "+h);if(!b&&this.useOrmma){this.ormmaNextScene(d)}this.fireAction(a,"startAction");if(a.animationCount===0){this.onAllAnimationEnd()}},replayScene:function(){console.warn("replayScene is deprecated. Use restartScene instead.");this.restartScene()},restartScene:function(){this.goToScene(this.currentScene)},restartTimeline:function(){this.goToScene(this.currentScene,this.currentScene.currentTimeline)},onSceneFinish:function(){this.fireAction(this.currentScene.currentTimeline,"endAction")},goToURL:function(a){document.location.href=a},getElementById:function(a){return document.getElementById(this.getElementIdById(a))},getElementIdById:function(a){return this.prefix+a},getUrlForLocalAsset:function(b){var a="assets/"+b;if(this.basePath){a=this.basePath+"/"+a}return a},ormmaNextScene:function(c){var a=ormma.getState();if(c.dimensions.expanded){var i=ormma.getMaxSize();if(a!=="expanded"){ormma.expand({x:0,y:0,width:i.width,height:i.height})}var b="";var d=c.element.offsetHeight;var g=c.element.offsetWidth;var e=(i.height-d)/2;var h=(i.width-g)/2;b+=" translate3d("+Math.round(h)+"px,"+Math.round(e)+"px,0)";if(c.dimensions.fit){var f=Math.min(i.width/g,i.height/d);b+=" scale3d("+f+","+f+",1)"}c.element.style.webkitTransform=b}else{if(a==="expanded"){ormma.close()}ormma.resize(c.dimensions.width,c.dimensions.height)}}}};window.addEventListener('load',function(){var configData={parentId:'MpH9gJwt9S-an-anim',cssPrefix:'MpH9gJwt9S-',ormma:false,mraid:false,layout:{"type":"absolute","width":410,"height":360},scenes:[{id:0,dimensions:{height:500,width:600,expanded:false,fit:false},timelines:[{id:"0",name:'Timeline 1',animationCount:3,duration:6.14,lastKeyframeTime:6.14,endAction:function(controller){controller.restartScene();}}]}],symbols:[],projectActions:{},events:[],externalResources:[]};setTimeout(function(){var controller=new AN.Controller;controller.setConfig(configData);},0);},false);
}
else{$("#tablettes-portrait").hide();if(window.orientation==0||window.orientation==180){if($(window).height()>1000){$("#tablettes-portrait").show();if(typeof(AN)==="undefined"){var AN={}}AN.instances={symbols:[],controllers:[]};AN.apiVersion=1;AN.Controller=function(){return{currentScene:false,userData:{},setConfig:function(a){AN.instances.controllers.push(this);this.events=a.events;this.prefix=a.cssPrefix;this.projectActions=a.projectActions;this.basePath=a.basePath?a.basePath:"";this.olElement=document.querySelector("#"+a.parentId+" ol");var d=this.olElement.children;this.useOrmma=a.ormma;this.scenes=[];this.scenesById={};this.sceneByName={};var g;for(var e=0;e<a.scenes.length;e++){g=a.scenes[e];g.element=d[e];g.timelinesById={};g.timelinesByName={};for(var c=0;c<g.timelines.length;c++){g.timelinesById[g.timelines[c].id]=g.timelines[c];g.timelinesByName[g.timelines[c].name]=g.timelines[c]}this.scenesById[g.id]=g;this.scenes.push(g);if(g.name){this.sceneByName[g.name]=g}}this.setupListeners();this.startSceneByName=this.goToSceneByName;this.startSceneById=this.goToSceneById;this.startSceneByID=this.startSceneById;this.symbolInstancesByHtmlId={};this.symbolInstancesById={};this.symbols=[];var h,b,f;for(var e=0;e<a.symbols.length;e++){h=a.symbols[e];this.symbolInstancesById[h.id]=[];b=this.olElement.querySelectorAll(".an-symbol-container-"+h.id);for(var c=0;c<b.length;c++){f=new AN.Symbol();f.setConfig(b[c],h,this);this.symbolInstancesByHtmlId[b[c].id]=f;this.symbolInstancesById[h.id].push(f);this.symbols.push(f)}}this.fireAction(this.projectActions,"init");this.goToScene(this.scenes[0])},setupListeners:function(){var l=this;this.browser="unknown";if(document.body.style.MozAnimationName!==undefined){this.browser="moz"}function h(j){var i;if(l.browser==="moz"){i=j.target;while(i=i.parentNode){if(i===l.currentScene.element){l.onAnimationEnd();return}}}else{l.onAnimationEnd()}}this.olElement.addEventListener("webkitAnimationEnd",h,false);this.olElement.addEventListener("animationend",h,false);function c(i){i.element.addEventListener("mousemove",function(j){i.mousemoveAction.call(l.userData,l,j)},false)}var g;for(var e=0;e<this.scenes.length;e++){g=this.scenes[e];if(g.mousemoveAction){c(g)}}function a(m,j,i){m.addEventListener(j,function(n){i.call(l.userData,l,n)},false)}var f,b,k;for(var e=0;e<this.events.length;e++){b=this.events[e];k=b.type;f=document.getElementById(b.id);for(var d=0;d<k.length;d++){a(f,k[d],b.handler)}}},onAnimationEnd:function(){this.runningAnimationCount--;if(this.runningAnimationCount===0){this.onAllAnimationEnd()}},onAllAnimationEnd:function(){var a=this.currentScene.currentTimeline.endWaitTime;if(a){var b=this;this.sceneTimeout=setTimeout(function(){b.onSceneFinish()},a*1000)}else{this.onSceneFinish()}},forceRefresh:function(a){this.forceRefreshValue=a.element.offsetHeight},fireAction:function(b,a){if(b&&b[a]){b[a].call(this.userData,this)}},getSymbolByHtmlId:function(a){return this.symbolInstancesByHtmlId[a]},getSymbolByInstanceId:function(b){var a=this.olElement.querySelector(".an-symbol-container.an-symbol-"+b);return this.getSymbolByHtmlId(a.id)},getSymbols:function(){return this.symbols},getSymbolsBySymbolMasterId:function(a){return this.symbolInstancesById[a]},getUserData:function(){return this.userData},getTimelineByIndex:function(a){return this.currentScene.timelines[a]},getTimelineById:function(a){return this.currentScene.timelinesById[a]},getTimelineByName:function(a){return this.currentScene.timelinesByName[a]},getCurrentTimeline:function(){return this.currentScene.currentTimeline},getCurrentScene:function(){return this.currentScene},getSceneByIndex:function(a){return this.scenes[a]},getSceneById:function(a){return this.scenesById[a]},getSceneByName:function(a){return this.sceneByName[a]},goToNextTimeline:function(){var b=this.currentScene.timelines.indexOf(this.currentScene.currentTimeline);var a=Math.min(b+1,this.currentScene.timelines.length-1);if(a===b){return}this.goToTimelineByIndex(a)},goToPreviousTimeline:function(){var b=this.currentScene.timelines.indexOf(this.currentScene.currentTimeline);var a=Math.max(b-1,0);if(b===a){return}this.goToTimelineByIndex(a)},goToTimelineById:function(a){this.goToScene(this.currentScene,this.currentScene.timelinesById[a])},goToTimelineByName:function(a){this.goToScene(this.currentScene,this.currentScene.timelinesByName[a])},goToTimelineByIndex:function(a){this.goToScene(this.currentScene,this.currentScene.timelines[a])},goToTimeline:function(a){this.goToScene(this.currentScene,a)},goToNextScene:function(){var b=this.scenes.indexOf(this.currentScene);var a=Math.min(b+1,this.scenes.length-1);if(b===a){return}this.goToSceneByIndex(a)},goToPreviousScene:function(){var a=this.scenes.indexOf(this.currentScene);var b=Math.max(a-1,0);if(a===b){return}this.goToSceneByIndex(b)},goToSceneByIndex:function(a){this.goToScene(this.scenes[a])},goToSceneByName:function(a){this.goToScene(this.sceneByName[a])},goToSceneById:function(a,b){var c=this.scenesById[a];this.goToScene(c,c.timelinesById[b])},goToScene:function(g,f){var d=g;var e=this.currentScene;var a=f;var c=e?e.currentTimeline:false;if(a===undefined){a=d.timelines[0]}var b=false;if(c===a&&e===d){b=true}else{if(e){e.element.setAttribute("class","")}}this.fireAction(c,"exitAction");clearTimeout(this.sceneTimeout);if(e!==d){this.fireAction(e,"exitAction");this.fireAction(d,"initAction")}this.fireAction(a,"initAction");this.runningAnimationCount=a.animationCount;this.currentScene=d;d.currentTimeline=a;var h="t-"+a.id;if(b||this.browser==="moz"){d.element.setAttribute("class","run restart "+h);this.forceRefresh(d)}d.element.setAttribute("class","run "+h);if(!b&&this.useOrmma){this.ormmaNextScene(d)}this.fireAction(a,"startAction");if(a.animationCount===0){this.onAllAnimationEnd()}},replayScene:function(){console.warn("replayScene is deprecated. Use restartScene instead.");this.restartScene()},restartScene:function(){this.goToScene(this.currentScene)},restartTimeline:function(){this.goToScene(this.currentScene,this.currentScene.currentTimeline)},onSceneFinish:function(){this.fireAction(this.currentScene.currentTimeline,"endAction")},goToURL:function(a){document.location.href=a},getElementById:function(a){return document.getElementById(this.getElementIdById(a))},getElementIdById:function(a){return this.prefix+a},getUrlForLocalAsset:function(b){var a="assets/"+b;if(this.basePath){a=this.basePath+"/"+a}return a},ormmaNextScene:function(c){var a=ormma.getState();if(c.dimensions.expanded){var i=ormma.getMaxSize();if(a!=="expanded"){ormma.expand({x:0,y:0,width:i.width,height:i.height})}var b="";var d=c.element.offsetHeight;var g=c.element.offsetWidth;var e=(i.height-d)/2;var h=(i.width-g)/2;b+=" translate3d("+Math.round(h)+"px,"+Math.round(e)+"px,0)";if(c.dimensions.fit){var f=Math.min(i.width/g,i.height/d);b+=" scale3d("+f+","+f+",1)"}c.element.style.webkitTransform=b}else{if(a==="expanded"){ormma.close()}ormma.resize(c.dimensions.width,c.dimensions.height)}}}};window.addEventListener('load',function(){var configData={parentId:'pH9gJwt9S-an-anim',cssPrefix:'pH9gJwt9S-',ormma:false,mraid:false,layout:{"type":"absolute","width":410,"height":360},scenes:[{id:0,dimensions:{height:500,width:600,expanded:false,fit:false},timelines:[{id:"0",name:'Timeline 1',animationCount:2,duration:6.14,lastKeyframeTime:6.14,endAction:function(controller){controller.restartScene();}}]}],symbols:[],projectActions:{},events:[],externalResources:[]};setTimeout(function(){var controller=new AN.Controller;controller.setConfig(configData);},0);},false);
}}}}}
var checkOrientation=function(){$(window).trigger('resize');checkLayersOrientation();};if(!$('html').hasClass('lt-ie9')){window.addEventListener('orientationchange',checkOrientation,false);checkLayersOrientation();}
$("html").addClass("no-touch");if(('ontouchstart'in window)||window.DocumentTouch&&document instanceof DocumentTouch){$("html").removeClass("no-touch");}
var arraycolors={orange:"#f59e19",pink:"#e40a5c",blue:"#0598c3",green:"#a7bc18"};var logosvg=null;var pikesvg=null;var pikewhitesvg=null;var backtopworksvg=null;var backtopworkssvg=null;var backtoppagesvg=null;$logo=$(".logosvg");if($logo.length>0){var paper=Raphael($logo[0],619,419);logosvg=paper.path("M 0 0 l 0 96 l 120 31 l 120 -31 l 0 -96 z");logosvg.attr({fill:'#e40a5c','stroke-width':1,stroke:'#e40a5c'});}
var pikeshape={pike:"M 15 29 l 10 -7 l 10 7 l 0 14 l -10 0 l -10 0 l 0 -14 z",gotocontent:"M 0 16 l 25 -16 l 25 16 l 0 30 l -25 16 l -25 -16 l 0 -30 z"};$pike=$(".pikeorgotocontent");if($pike.length>0){var paperpike=Raphael($pike[0],50,62);if(!$('html').hasClass('lt-ie9')){pikewhitesvg=paperpike.path(pikeshape.pike);pikewhitesvg.attr({fill:'#ffffff','stroke-width':1,stroke:'#ffffff'});}
pikesvg=paperpike.path(pikeshape.pike);pikesvg.attr({fill:'#e40a5c','stroke-width':1,stroke:'#e40a5c'});if(!$('html').hasClass('lt-ie9')){pikesvg.node.setAttribute('class','pikesvg');}}
function createDynamicSVG(dataHtml){$backtopwork=dataHtml.find(".back-top-white-work");if($backtopwork.length>0){var paperbt=Raphael($backtopwork[0],50,63);backtopworksvg=paperbt.path("M 0 16 l 25 -16 l 25 16 l 0 30 l -25 16 l -25 -16 l 0 -30 z");backtopworksvg.attr({fill:'#e40a5c','stroke-width':1,stroke:'#e40a5c'});$("body").on("mouseenter",".back-top-white",function(){backtopworksvg.animate({opacity:0.68},400);});$("body").on("mouseleave",".back-top-white",function(){backtopworksvg.animate({opacity:1},400);});}
$backtopworks=dataHtml.find(".back-top-white-works");if($backtopworks.length>0){var paperbt=Raphael($backtopworks[0],50,63);backtopworkssvg=paperbt.path("M 0 16 l 25 -16 l 25 16 l 0 30 l -25 16 l -25 -16 l 0 -30 z");backtopworkssvg.attr({fill:'#e40a5c','stroke-width':1,stroke:'#e40a5c'});$("body").on("mouseenter",".back-top-white",function(){backtopworkssvg.animate({opacity:0.68},400);});$("body").on("mouseleave",".back-top-white",function(){backtopworkssvg.animate({opacity:1},400);});}
$backtoppage=dataHtml.find(".back-top-white-page");if($backtoppage.length>0){var paperbt=Raphael($backtoppage[0],50,63);backtoppagesvg=paperbt.path("M 0 16 l 25 -16 l 25 16 l 0 30 l -25 16 l -25 -16 l 0 -30 z");backtoppagesvg.attr({fill:'#e40a5c','stroke-width':1,stroke:'#e40a5c'});$("body").on("mouseenter",".back-top-white",function(){backtoppagesvg.animate({opacity:0.68},400);});$("body").on("mouseleave",".back-top-white",function(){backtoppagesvg.animate({opacity:1},400);});}}
var newcolorforsvg=null;function changeColorSvg(newcolor,timing){newcolorforsvg=newcolor;if(logosvg!=null){logosvg.animate({fill:newcolor,stroke:newcolor},timing);}
if(backtopworksvg!=null){backtopworksvg.animate({fill:newcolor,stroke:newcolor},timing);}
if(backtopworkssvg!=null){backtopworkssvg.animate({fill:newcolor,stroke:newcolor},timing);}
if(backtoppagesvg!=null){backtoppagesvg.animate({fill:newcolor,stroke:newcolor},timing);}
if(pikesvg!=null){pikesvg.animate({fill:newcolor,stroke:newcolor},timing);}}
$(window).on('resize',function(){if($(window).width()<960){$("html").addClass("smallscreen");$("#foot .minwidth").css("width",$(window).width());}else{$("html").removeClass("smallscreen");$("#foot .minwidth").css("width","auto");}
homeSlideshowResize();pageBackgroundResize();workSlideshowResize();checkPageScrolling();fullwidthResize();});function fullwidthResize(){$("img.fullwidth").each(function(){if($(window).width()>960){var offset=$(window).width()-$("#work-content .section").width();$(this).css("left","-"+offset/2+"px").css("width",$(window).width());}else{$(this).css("left",0);}});$("iframe.fullwidth").each(function(){if($(window).width()>960){var offset=$(window).width()-$("#work-content .section").width();$(this).css("left","-"+offset/2+"px").css("width",$(window).width());var videoh=$(this).attr("height");var videow=$(this).attr("width");if(videoh&&videow){var newvideoh=$(window).width()*videoh/videow;$(this).css("height",newvideoh)}}else{$(this).css("left",0);}});$(".edgeanim.fullwidth").each(function(){if($(window).width()>960){var offset=$(window).width()-$("#work-content .section").width();$(this).css("left","-"+offset/2+"px").css("width",$(window).width());var videoh=$(this).attr("height");var videow=$(this).attr("width");if(videoh&&videow){var newvideoh=$(window).width()*videoh/videow;$(this).css("height",newvideoh)}}else{$(this).css("left",0);}});}
$('body').on('mouseenter',".backtopcontainer .back-top",function(e){$(this).closest(".backtopcontainer").addClass("showtext");});$('body').on('mouseleave',".backtopcontainer .back-top",function(e){$(this).closest(".backtopcontainer").removeClass("showtext");});$('body').on('hover','.hover-img, .hover-img-color',function(e){if(!$(this).hasClass('current')){var img=$(this).find('img');if(img.length==0)
img=$(this);var src=img.attr('src');if(src){var suffix='_active';if($(this).hasClass('hover-img-color'))
suffix='_'+$('body').attr('data-color');if(e.type=='mouseenter'){var newSrc=src.replace(new RegExp("(\.png|\.jpg)","i"),suffix+"$1");}else if(e.type=='mouseleave'){var newSrc=src.replace(suffix,'');}
img.attr('src',newSrc);}}});$("body").on("mouseenter","#home-slideshow .text",function(){$(this).addClass("hover");$(".current-slide").find(".cache").show().css("opacity",0).stop().animate({opacity:0.7},500);});$("body").on("mouseleave","#home-slideshow .text",function(){$(this).removeClass("hover");$(".current-slide").find(".cache").stop().animate({opacity:0},500,function(){$(this).hide()});});$('body').on('focus','input:text, input:password, textarea',function(){$('label[for='+$(this).attr('id')+']').hide();}).on('blur','input:text, input:password, textarea',function(){if($(this).attr('value')==''||$(this).attr('value')==$('label[for='+$(this).attr('id')+']').text()){$('label[for='+$(this).attr('id')+']').show();}}).on('refresh','input:text, input:password, textarea',function(){if($(this).attr('value')==''||$(this).attr('value')==$('label[for='+$(this).attr('id')+']').text()){$('label[for='+$(this).attr('id')+']').show();}else{$('label[for='+$(this).attr('id')+']').hide();}});$('input:text, input:password, textarea').trigger('refresh');function isImageOk(img){img=img.get(0);if(!img.complete){return false;}
if(typeof img.naturalWidth!="undefined"&&img.naturalWidth==0){return false;}
return true;}
$('body').on('mousedown','img',function(){return false;});var lastMouseX=0;var lastMouseY=0;$('body').on('mousemove',function(e){lastMouseX=e.pageX;lastMouseY=e.pageY;});if(navigator.userAgent.match(/(iPad|iPhone|iPod)/i)){$('html').addClass('ios');}
if(navigator.userAgent.match(/iPad;.*CPU.*OS 7_\d/i)){$('html').addClass('ipad ios7');}
var windowHash=null;if(window.location.pathname!='/'&&window.location.pathname!='/404'){window.location='/#'+window.location.pathname.replace('/','');return;}
function checkAddress(){if(windowHash==null){windowHash=window.location.hash;if(windowHash!=''&&windowHash!='#home'){var pageId=windowHash.replace('#','');var url=Superlovers.homeurl+'/'+pageId;if(pageId.indexOf('creation/')==0)
url=url+'?works';if(currentPageId!=pageId){loadPage(url,pageId);}}else{pageInit('home');}}else if(window.location.hash!=windowHash){windowHash=window.location.hash;var pageId=windowHash.replace('#','');var url=Superlovers.homeurl+'/'+pageId;if(currentPageId!=pageId){loadPage(url,pageId);}}}
var siteOpeningReady=false;$('#global-loading .logo').delay(200).fadeTo(500,1,'linear',function(){if(siteOpeningReady&&!pageLoading){siteOpening();}
siteOpeningReady=true});function siteOpening(){var container=$('#global-loading');var background=container.find('.background');var top=container.find('.top');var topOffset=top.offset();var logo=container.find('.logo');var logoOffset=logo.offset();top.css({margin:'0',top:topOffset.top,left:topOffset.left});logo.css({margin:'0',top:logoOffset.top,left:logoOffset.left});background.animate({top:$(window).height()},{duration:1500,easing:'easeInOutExpo',complete:function(){$(this).fadeOut(500,'linear');}});top.animate({top:0},{duration:1500,easing:'easeInOutExpo',complete:function(){$(this).fadeOut(500,'linear');}});logo.animate({top:0},{duration:1500,easing:'easeInOutExpo',complete:function(){$(this).fadeOut(500,'linear',function(){container.remove();});$('body').removeClass('not-opened');$(window).trigger('opened');}});var color=arraycolors[$("body").data("color")];changeColorSvg(color,0);}
$(window).on('load',function(){var checkAddressTimeout=setInterval(checkAddress,100);if(siteOpeningReady&&!pageLoading){siteOpening();}
siteOpeningReady=true;});function globalLoadingChangeColor(){var currentLogo=$('#global-loading .logo .current');var newLogo=$('#global-loading .logo .current').next('img');if(newLogo.length!=1)
newLogo=$('#global-loading .logo .first');newLogo.css({zIndex:3}).fadeIn(3000,'linear',function(){$(this).addClass('current').attr('style','');currentLogo.removeClass('current');globalLoadingChangeColor();});}
setTimeout(globalLoadingChangeColor,500);var pageLoading=false;var currentPageId='home';$('body').on('click','.internal',function(e){var url=$(this).attr('href');var pageId=$(this).attr('data-id');if(currentPageId!=pageId){loadPage(url,pageId);}
e.preventDefault();});function gotocontentanimation(dataHtml){var gotocontent=dataHtml.find('.gotocontent');var issinglework=dataHtml.find('#work').length;if(gotocontent.length>0){if($(".gotocontent").length>=1){var offset=$(".pikeorgotocontent").offset();$("#container.superlovers > .pikeorgotocontent").remove();$("#container.superlovers").prepend($(".pikeorgotocontent"));$(".pikeorgotocontent").removeClass("isgotocontentabsolute").addClass("isgotocontentfixed").animate({marginBottom:0},1100,function(){});return'gotocontent-gotocontent';}
else{if(!$('html').hasClass('lt-ie9')){if(pikewhitesvg!=null){pikewhitesvg.animate({path:(pikeshape.gotocontent)},1000,function(){$(this).show();});}}
pikesvg.animate({path:(pikeshape.gotocontent)},1000,function(){});return'pike-gotocontent';}}else{if($(".gotocontent").length>0){$(".pikeorgotocontent .arrow").css("opacity",0);$("#container.superlovers > .pikeorgotocontent").remove();$("#container.superlovers").prepend($(".pikeorgotocontent"));$(".pikeorgotocontent").removeClass("isgotocontentabsolute");if(!$('html').hasClass('lt-ie9')){if(pikewhitesvg!=null){pikewhitesvg.animate({path:(pikeshape.pike)},1000,function(){$(this).hide();});}}
pikesvg.animate({path:(pikeshape.pike)},1000);return'gotocontent-pike';}}
return false;}
function gotocontentanimationend(returngotocontent){var issinglework=$('#work').length;if(returngotocontent=='gotocontent-gotocontent'){if(issinglework){$("#work-content").prepend($(".pikeorgotocontent"));}else{$("#page-content").prepend($(".pikeorgotocontent"));}
$(".pikeorgotocontent").removeClass("isgotocontentfixed").addClass("isgotocontentabsolute");}
else if(returngotocontent=='pike-gotocontent'){$("#page-content > .pikeorgotocontent, #work-content > .pikeorgotocontent").remove();$("#page-content, #work-content").prepend($(".pikeorgotocontent"));if($('html').hasClass('lt-ie9')&&pikesvg!=null&&newcolorforsvg!=null){pikesvg.animate({fill:newcolorforsvg,stroke:newcolorforsvg},0);}
$(".pikeorgotocontent").removeClass("isgotocontentfixed").addClass("isgotocontentabsolute");$(".pikeorgotocontent .arrow").css("opacity",1);}
else if(returngotocontent=='gotocontent-pike'){}}
function getCustomProjectColor(dataHtml){if($("body").hasClass("projectcolor")){$("style#projectcolor").remove();$("body").removeClass("projectcolor");}
if(dataHtml.find(".projectinfos").length>0){var color=(dataHtml.find(".projectinfos").data("color"));if(color.length>0&&color.indexOf("#")!=-1){$('<style id="projectcolor" type="text/css">'+'.projectcolor #head:before {background-color:'+color+';content:"       "}'+'.projectcolor #foot:before {background-color:'+color+';content:"       "}'+'.projectcolor #widget-contact span {color:'+color+'}'+'.projectcolor .cache {background-color:'+color+'}'+'.projectcolor a,'+'.projectcolor #head #nav-main a:hover, '+'.projectcolor #head #nav-main a:focus, '+'.projectcolor #head #nav-main .current, '+'.projectcolor #widget-contact a:hover, '+'.projectcolor #widget-contact a:focus, '+'.projectcolor .replaced-select li:hover{color:'+color+'}'+'.projectcolor #work-content .navigation a{color:'+color+';} '+'.projectcolor #work-content .navigation .prev:hover:before{border-right-color:'+color+';content:"       "} '+'.projectcolor #work-content .navigation .next:hover:before{border-left-color:'+color+';content:"       "} '+'</style>').appendTo('head');$("body").addClass("projectcolor");changeColorSvg(color,600);}else{changeColorSvg(arraycolors[$("body").data("color")],600);}}}
var historyscroll=0;var historytitle='';function loadPage(url,pageId){if(pageLoading==true)
return;var pageLoader=$('.loaderajax');pageLoading=true;pageLoader.fadeIn(300,'linear');$("#heading-phrase ul li").stop(true,true).animate({opacity:0},300);$('#head .close-work').fadeOut(300,'linear');clearTimeout(homeSlideshowTimeout);clearTimeout(workSlideshowTimeout);clearTimeout(pageHighlightTimeout);$(".cachedisablemousehoverwork").addClass("disable");var allow_trigger=true;var currentScroll=$(window).scrollTop();var time=1000;if(currentScroll<3000){time=parseInt(currentScroll*0.4);}
var args={scrollTop:0};if($("html").hasClass("smallscreen")){args={scrollTop:0,scrollLeft:0};}
if(currentPageId=='creations'){historyscroll=currentScroll;historytitle=$("html:first head title").html();if(pageId.indexOf('creation/')!=-1){$("body").addClass("openwork");}}
else if(currentPageId.indexOf('creation/')==0){}
else{historyscroll=0;}
$('html, body').stop(true).animate(args,time,'easeInOutCubic',function(){if(allow_trigger){allow_trigger=false;$.get(url,function(data){var regex=/<title>(.*)<\/title>/gi;match=regex.exec(data);titleescaped=$('<div />').html(match[1]).text();document.title=titleescaped;var dataHtml=$(data);createDynamicSVG(dataHtml);dataHtml.find(".cachedisablemousehoverwork").addClass("disable");if(pageId.indexOf('creation/')==0&&url.indexOf('?works')==-1){if(currentPageId.indexOf('creation/')==0){var returngotocontent=gotocontentanimation(dataHtml);var currentWork=$('#work');var newWork=dataHtml.find('#work');var startingPoint=$(window).width();var endingPoint=-$(window).width();if(workSide=='prev'){startingPoint=-startingPoint;endingPoint=-endingPoint;}
newWork.insertAfter(currentWork);$(window).trigger('resize');newWork.css({position:'absolute',left:startingPoint}).addClass('animated');currentWork.css({position:'absolute'}).addClass('animated');currentWork.animate({left:endingPoint},{duration:1000,easing:'easeInOutExpo',complete:function(){pageKill(currentPageId);$(this).remove();}});newWork.animate({left:0},{duration:1000,easing:'easeInOutExpo',complete:function(){$(this).attr('style','').removeClass('animated');getCustomProjectColor(dataHtml);$('#head .close-work').fadeIn(300,'linear');pageLoader.fadeOut(300,'linear');setTimeout(function(){pageInit(pageId);pageLoading=false;gotocontentanimationend(returngotocontent);},100);$(".cachedisablemousehoverwork").removeClass("disable");}});}else{var theme=(dataHtml.find(".projectinfos").data("theme"));$("body").removeClass('white black').addClass(theme);var returngotocontent=gotocontentanimation(dataHtml);var currentMain=$('#main');var works=$('#works');var work=dataHtml.find('#work');var workSlideshow=work.find('#work-slideshow');var workContent=work.find('#work-content');var workContentTop=-39;work.appendTo(currentMain);$(window).trigger('resize');work.css({position:'fixed',top:0,left:0,width:'100%',height:'100%'});workSlideshow.css({top:-workSlideshow.height()});workContent.css({marginTop:0});$("#page-background, #page-content").css("z-index",0);pageLoader.fadeOut(300,'linear');workSlideshow.animate({top:0},{duration:1000,easing:'easeInOutCubic',complete:function(){$(this).css({top:''});}});workContent.animate({marginTop:workContentTop},{duration:1000,easing:'easeInOutCubic',complete:function(){$(this).css({marginTop:''});work.attr('style','');works.hide();$("#home-slideshow").hide();getCustomProjectColor(dataHtml);$("#page-background").hide();$("#page-content").hide();$('#nav-main .current').removeClass('current');$('#nav-main a[data-id="creations"]').addClass('current');$('#head .close-work').fadeIn(300,'linear');setTimeout(function(){pageInit(pageId);pageLoading=false;gotocontentanimationend(returngotocontent);},100);if($('body').hasClass('not-opened')&&siteOpeningReady){siteOpening();}
$(".cachedisablemousehoverwork").removeClass("disable");}});}}else{var $map=dataHtml.find(".contactmap");var returngotocontent=gotocontentanimation(dataHtml);var newMain=dataHtml.find('#main');var currentMain=$('#main');var newColor=dataHtml.find('#logo .current').attr('data-color');var startingPoint=$(window).width();var endingPoint=-$(window).width();if($(window).width()<960){startingPoint=960;endingPoint=-960;}
var currentPageIndex=$('.internal').index($('[data-id="'+currentPageId+'"]'));var newPageIndex=$('.internal').index($('[data-id="'+pageId+'"]'));if(newPageIndex<currentPageIndex){startingPoint=-startingPoint;endingPoint=-endingPoint;}
newMain.insertAfter(currentMain);$(window).trigger('resize');newMain.css({position:'absolute',left:startingPoint}).addClass('animated');currentMain.css({position:'absolute'}).addClass('animated');var newColorforMap=newColor;if(!$("body").hasClass("not-opened")){changeSiteHeading(newColor);}else{newColorforMap=$('body').attr('data-color');}
if($map.length>0){$map.attr("src",Superlovers.homeurl+'/wp-content/themes/superlovers_2013/img/gmaps/'+newColorforMap+'.html');}
currentMain.animate({left:endingPoint},{duration:1000,easing:'easeInOutExpo',complete:function(){pageKill(currentPageId);$(this).remove();}});newMain.animate({left:0},{duration:1000,easing:'easeInOutExpo',complete:function(){$(this).attr('style','').removeClass('animated');$('#nav-main .current').removeClass('current');$('#nav-main a[data-id="'+pageId+'"]').addClass('current');pageLoader.fadeOut(300,'linear',function(){if(pageId.indexOf('creation/')==0){$('#head .close-work').fadeIn(300,'linear');}else{$('#heading-phrase ul li').stop(true,true).animate({opacity:1},300);$('#head .close-work').fadeOut(300,'linear');}});setTimeout(function(){getCustomProjectColor(dataHtml);pageInit(pageId);pageLoading=false;gotocontentanimationend(returngotocontent);},100);if($('body').hasClass('not-opened')&&siteOpeningReady){siteOpening();}
$("body").removeClass("openwork");$(".cachedisablemousehoverwork").removeClass("disable");}});}}).error(function(){window.location='/404';});}});}
function pageInit(pageId){currentPageId=pageId;window.location.hash=windowHash='#'+pageId;if(pageId=='home'){controlHomeSlideshow(true);}else if(pageId=='studio'){$('body').removeClass('white black');clearTimeout(pageHighlightTimeout);switchPageHighlight();}else if(pageId=='contact'){$('body').removeClass('white black');wpcf7Init();checkCustomForm();}else if(pageId=='creations'){$('body').addClass('black');}else if(pageId.indexOf('creation/')==0){$('body').removeClass('white black');controlWorkSlideshow(true);}else if(pageId=='references'){$('body').addClass('black');}
gotocontentAnimationarrow();}
function pageKill(pageId){if(pageId=='home'){controlHomeSlideshow(false);}else if(pageId=='studio'){clearTimeout(pageHighlightTimeout);}else if(pageId=='creations'){$('body').removeClass('white black');}else if(pageId.indexOf('creation/')==0){$('body').removeClass('white black');controlWorkSlideshow(false);}}
function changeSiteHeading(newColor){var currentLogo=$('#site-title .current');var newLogo=$('#site-title img[data-color="'+newColor+'"]').not(currentLogo);var currentPhrase=$('#heading-phrase .current');var newPhrase=$('#heading-phrase li').not(currentPhrase);newPhrase=newPhrase.eq(Math.floor(newPhrase.length*Math.random()));var currentColor=$('body').attr('data-color');if(newLogo.length==1)
newLogo.css({zIndex:2});$('body').removeClass(currentColor).attr('data-color',newColor).addClass(newColor);if(newLogo.length==1)
newLogo.fadeIn(500,'linear',function(){$(this).addClass('current').attr('style','');currentLogo.removeClass('current');});currentPhrase.stop(true,true).animate({marginTop:10,opacity:0},{duration:500,easing:'easeInOutCubic'});newPhrase.stop(true,true).delay(500).animate({marginTop:0,opacity:1},{duration:500,easing:'easeInOutCubic',complete:function(){$('#heading-phrase li').removeClass('current').attr('style','');newPhrase.addClass('current').attr('style','');}});changeColorSvg(arraycolors[newColor],600);}
var homeSlideshowDuration=4000;var homeSlideshowTimeout='';var homeSlideshowIsLoading=false;function homeSlideshowResize(){if($('#home-slideshow').length!=1)
return;if(homeanimationnow&&!pageLoading){var nextSlide=$('#home-slideshow .next-slide');nextSlide.css("z-index",4);nextSlide.find('.background').stop(true,true);nextSlide.find('.front').stop(true,true);var currentSlide=$('#home-slideshow .current-slide');currentSlide.css("z-index",1);homeanimationnow=false;}
$('#home-slideshow .slide').each(function(){var backgroundContainer=$(this).find('.background');var backgroundImg=backgroundContainer.find('img');var backgroundRatio=Number(backgroundImg.attr('data-ratio'));if(backgroundImg.length==1){backgroundImg.width(backgroundContainer.width());backgroundImg.height(backgroundContainer.width()/backgroundRatio);
if(backgroundImg.height()<backgroundContainer.height()){backgroundImg.height(backgroundContainer.height());backgroundImg.width(backgroundContainer.height()*backgroundRatio);}
var backgroundImgLeft=(backgroundContainer.width()-backgroundImg.width())/2;
var backgroundImgTop=(backgroundContainer.height()-backgroundImg.height())/2;
backgroundImg.css({top:backgroundImgTop,left:backgroundImgLeft});}
var frontContainer=$(this).find('.front');var frontImg=frontContainer.find('img');var frontRatio=Number(frontImg.attr('data-ratio'));if(frontImg.length==1){frontImg.width(frontContainer.width());frontImg.height(frontContainer.width()/frontRatio);
if(frontImg.height()<frontContainer.height()){frontImg.height(frontContainer.height());frontImg.width(frontContainer.height()*frontRatio);}
var frontImgLeft=(frontContainer.width()-frontImg.width())/2;
var frontImgTop=(frontContainer.height()-frontImg.height())/2;
frontImg.css({top:frontImgTop,left:frontImgLeft});}});}
$('body').on('click','#home-slideshow .pagination a',function(e){if(!$(this).hasClass('current')&&homeSlideshowIsLoading===false&&homeanimationnow===false){homeSlideshowIsLoading=true;homeSlideshowLoad($(this).index());}
e.preventDefault();});$('body').on('click','#home-slideshow .controls .prev',function(e){e.preventDefault();homeSlideshowPrev();clearTimeout(homeSlideshowTimeout);});$('body').on('click','#home-slideshow .controls .next',function(e){e.preventDefault();homeSlideshowNext();clearTimeout(homeSlideshowTimeout);});$('html.no-touch:not(.lt-ie9) body').on('mousemove','#home-slideshow .controls',function(e){e=jQuery.event.fix(e);var arrows=$(this).find('a');var leftArrow=arrows.filter('.prev');var rightArrow=arrows.filter('.next');if(e.pageX<$(window).width()/2 && leftArrow.is(':hidden')) {
leftArrow.stop().fadeIn(200);rightArrow.hide();}else if(e.pageX>=$(window).width()/2 && rightArrow.is(':hidden')) {
rightArrow.stop().fadeIn(200);leftArrow.hide();}
arrows.css({top:e.pageY- 35,left:e.pageX- 25});});$('html.no-touch:not(.lt-ie9) body').on('mouseleave','#home-slideshow .controls',function(e){$(this).find('a').hide();});function homeSlideshowLoad(slideIndex){var slide=$('#home-slideshow .slide').eq(slideIndex);slide.addClass('next-slide');if(!slide.hasClass('loaded')){$('#home-slideshow .loader').fadeIn();slide.find('.background, .front').each(function(){var image=$('<img src="'+$(this).attr('data-src')+'" data-ratio="'+$(this).attr('data-ratio')+'" alt="" />');$(this).html(image);});homeSlideshowCheckLoad(slide);}else{homeSlideshowSwitch();}}
function homeSlideshowCheckLoad(slide){var backgroundImg=slide.find('.background img');var frontImg=slide.find('.front img');if(isImageOk(backgroundImg)&&isImageOk(frontImg)){slide.addClass('loaded');homeSlideshowResize();homeSlideshowSwitch();}else{setTimeout(function(){homeSlideshowCheckLoad(slide);},50);}}
var homeanimationnow=false;function homeSlideshowSwitch(){homeanimationnow=true;var currentSlide=$('#home-slideshow .current-slide');var currentSlideBackground=currentSlide.find('.background')
var currentSlideBackgroundImg=currentSlideBackground.find('img')
var currentSlideFront=currentSlide.find('.front')
var currentSlideFrontImg=currentSlideFront.find('img')
var currentSlideText=currentSlide.find('.text')
$("#home-slideshow > .text").remove();currentSlideText.show();$(".current-slide").find(".cache").stop().animate({opacity:0},500,function(){$(this).hide()});if($('#home-slideshow .next-slide').length==0){currentSlide.next().addClass("next-slide");}
var nextSlide=$('#home-slideshow .next-slide');var nextSlideIndex=nextSlide.index('.slide');var nextSlideBackground=nextSlide.find('.background');var nextSlideBackgroundImg=nextSlideBackground.find('img');var nextSlideFront=nextSlide.find('.front');var nextSlideFrontImg=nextSlideFront.find('img');var nextSlideText=nextSlide.find('.text');var nextSlideTextTop=$(window).height()/2;
nextSlideBackground.css({top:nextSlideBackgroundImg.height()});nextSlideFront.css({left:nextSlideFrontImg.width()});nextSlideText.css({top:$(window).height()});currentSlideBackground.stop(true).delay(10).animate({top:-currentSlideBackgroundImg.height()},{duration:2000,easing:'easeInOutCubic'});currentSlideFront.stop(true).delay(5).animate({left:-currentSlideFrontImg.width()},{duration:2000,easing:'easeInOutCubic'});currentSlideText.stop(true).delay(20).animate({top:-$(window).height()},{duration:1700,easing:'easeInOutCubic'});nextSlideBackground.stop(true).delay(10).animate({top:0},{duration:2000,easing:'easeInOutCubic'});nextSlideFront.stop(true).delay(5).animate({left:0},{duration:2000,easing:'easeInOutCubic'});nextSlideText.stop(true).delay(20).animate({top:nextSlideTextTop},2000,'easeInOutCubic',function(){nextSlide.removeClass('next-slide').addClass('current-slide').attr('style','');nextSlideBackground.attr('style','');nextSlideFront.attr('style','');nextSlideText.css({top:''});currentSlide.removeClass('current-slide').attr('style','');currentSlideBackground.attr('style','');currentSlideFront.attr('style','');currentSlideText.css({top:''});homeSlideshowIsLoading=false;$('#home-slideshow .loader').fadeOut();controlHomeSlideshow(true);homeanimationnow=false;$('#home-slideshow .pagination a').removeClass('current').eq(nextSlideIndex).addClass('current');$('body').removeClass('white black').addClass(nextSlide.attr('data-theme'));nextSlideText.hide();clone=nextSlideText.clone().css("z-index",100).show();$("#home-slideshow").append(clone);});}
function homeSlideshowPrev(){var prevLink=$('#home-slideshow .pagination a.current').prev('a');if(prevLink.length!=1)
prevLink=$('#home-slideshow .pagination a:last');prevLink.click();}
function homeSlideshowNext(){var nextLink=$('#home-slideshow .pagination a.current').next('a');if(nextLink.length!=1)
nextLink=$('#home-slideshow .pagination a:first');nextLink.click();}
function controlHomeSlideshow(start){$('body').removeClass('white black');if(start){currentSlide=$('#home-slideshow .current-slide');currentSlideText=currentSlide.find('.text')
currentSlideText.hide();clone=currentSlideText.clone().css("z-index",100).show();$("#home-slideshow").append(clone);$('body').addClass($('#home-slideshow .current-slide').attr('data-theme'));homeSlideshowTimeout=setTimeout(homeSlideshowNext,homeSlideshowDuration);}}
function pageBackgroundResize(){$('[id="page-background"]').each(function(){var backgroundContainer=$(this);var backgroundImg=backgroundContainer.find('img');var backgroundIframe=backgroundContainer.find('iframe.contactmap');var backgroundRatio=Number(backgroundImg.attr('data-ratio'));var pageContent=$(this).siblings('#page-content');var pageContentTop=0;if(pageContent.length==1)
pageContentTop=Number(pageContent.css('margin-top').replace('px',''));if(backgroundImg.length==1){backgroundContainer.height($(window).height()+pageContentTop);backgroundImg.width(backgroundContainer.width());backgroundImg.height(backgroundContainer.width()/backgroundRatio);
if(backgroundImg.height()<backgroundContainer.height()){backgroundImg.height(backgroundContainer.height());backgroundImg.width(backgroundContainer.height()*backgroundRatio);}
var backgroundImgLeft=(backgroundContainer.width()-backgroundImg.width())/2;
var backgroundImgTop=(backgroundContainer.height()-backgroundImg.height())/2;
backgroundImg.css({top:backgroundImgTop,left:backgroundImgLeft});}else if(backgroundIframe.length==1){backgroundContainer.height($(window).height()+pageContentTop+20);backgroundIframe.height($(window).height()+pageContentTop+20);}});}
function checkPageScrolling(){var navMainBackground=$('#nav-main .background');var backTopButton=$('#head .back-top');var headingPhrase=$('#heading-phrase');var pageContent=$('#page-content, #work-content, #works').last();if(pageContent.length!=1)
return;var pageContentOffset=pageContent.offset();var scrollTop=$(window).scrollTop();if(scrollTop>=1&&!navMainBackground.hasClass('on')){navMainBackground.addClass('on').removeClass('off');navMainBackground.stop(true).animate({opacity:0.95},{duration:500,easing:'easeOutCubic'});}else if(scrollTop<1&&!navMainBackground.hasClass('off')){navMainBackground.addClass('off').removeClass('on');navMainBackground.stop(true).animate({opacity:0},{duration:500,easing:'easeInCubic'});}
if($("html.no-touch").length){if(scrollTop>1){var opacity=(scrollTop/pageContentOffset.top);if(opacity>1){opacity=1;}
$(".cachedark").show().css("opacity",opacity);}else{$(".cachedark").hide().css("opacity",0);}}
if(scrollTop>1){$("body").addClass("reduce");$("#heading-phrase ul li").stop().animate({opacity:0},300);}else{$("body").removeClass("reduce");if(!pageLoading&&$("#work").length==0){$("#heading-phrase ul li").stop().animate({opacity:1},300);}}}
$(window).on('scroll',checkPageScrolling)
$('body').on('click','.pikeorgotocontent, #page-background .intro > p, #work-header',function(e){var pageContent=$('#page-content .content, #work-content .content').first();var pageContentOffset=pageContent.offset();$('html, body').stop(true).animate({scrollTop:pageContentOffset.top-50},1500,'easeInOutCubic',function(){});e.preventDefault();});function keepCache(objectHover,objectHoverBefore){if(objectHover.parent().hasClass("intro")&&objectHoverBefore.hasClass("arrow")){return true;}
else if(objectHover.hasClass("pikeorgotocontent")&&objectHoverBefore.parent().hasClass("intro")){return true;}
else if(objectHover.attr("id")=="work-header"&&objectHoverBefore.hasClass("arrow")){return true;}
else if(objectHover.hasClass("pikeorgotocontent")&&objectHoverBefore.attr("id")=="work-header"){return true;}
return false;}
$("html.no-touch:not(.lt-ie9) body").on('mouseenter','.pikeorgotocontent.isgotocontentabsolute, #page-background .intro > p, #work-header',function(e){e=jQuery.event.fix(e);var $objectHover=$(e.currentTarget);var $objectHoverBefore=$(e.relatedTarget);if(keepCache($objectHover,$objectHoverBefore)){return;}
$("#work").addClass("gotocontenthover");$('.navtop a').hide();$("#work-header #page-title").addClass("hover");$(".cache").stop(true,true).show().css("opacity",0).animate({opacity:0.7},500);$("#work-header .client .title").css("opacity",1).stop(true,true).animate({opacity:0},100,function(){$(this).hide();$("#work-header .client .hover").show().css("opacity",0).stop(true,true).animate({opacity:1},300);});});$("html.no-touch:not(.lt-ie9) body").on('mouseleave','.pikeorgotocontent.isgotocontentabsolute, #page-background .intro > p, #work-header',function(e){e=jQuery.event.fix(e);var $objectHover=$(e.currentTarget);var $objectHoverBefore=$(e.relatedTarget);if(keepCache($objectHover,$objectHoverBefore)){return;}
$("#work").removeClass("gotocontenthover");$("#work-header #page-title").removeClass("hover");$(".cache").stop(true,true).animate({opacity:0},200,function(){$(this).hide()});$("#work-header .client .hover").css("opacity",1).stop(true,true).animate({opacity:0},100,function(){$(this).hide();$("#work-header .client .title").show().css("opacity",0).stop(true,true).animate({opacity:1},300);});});$('body').on('click','.back-top',function(e){$('html, body').stop(true).animate({scrollTop:0},{duration:1500,easing:'easeInOutCubic'});e.preventDefault();});var pageHighlightTimeout=null;function switchPageHighlight(){$('[id="page-background"]').each(function(){if($(this).find('.highlight li').length>1){var currentHightlight=$(this).find('.highlight .current');var newHighlight=$(this).find('.highlight li').not(currentHightlight);newHighlight=newHighlight.eq(Math.floor(newHighlight.length*Math.random()));newHighlight.css({top:-newHighlight.height(),opacity:1});var properties={top:0};if(allowAvoidTransforms){properties={top:0,avoidTransforms:true};}
newHighlight.animate(properties,{duration:500,easing:'easeInOutCubic',complete:function(){newHighlight.addClass('current').attr('style','');}});currentHightlight.css("text-shadow","none");var properties={top:currentHightlight.height()+50,opacity:0};if(allowAvoidTransforms){properties={top:currentHightlight.height()+50,opacity:0,avoidTransforms:true};}
currentHightlight.animate(properties,{duration:400,easing:'easeInOutCubic',complete:function(){currentHightlight.removeClass('current').attr('style','').css("opacity",0);}});pageHighlightTimeout=setTimeout(switchPageHighlight,2000);}})}
var gotocontentTimeout=null;function gotocontentAnimationarrow(){$('.pikeorgotocontent').toggleClass('opacity down');clearTimeout(gotocontentTimeout);gotocontentTimeout=setTimeout(gotocontentAnimationarrow,500);}
$('body').on('hover','#works .work',function(e){e=jQuery.event.fix(e);var work=$(this);var workOffset=work.offset();var otherWorksThumb=work.siblings('.work').find('.thumb .color');var allWorksThumb=$('#works .work .thumb .color');var mouseX=e.pageX;var mouseY=e.pageY;var threshold=20;var from='left';var to='right';if(e.type=='mouseenter'){if(lastMouseX<=workOffset.left){from='left';}else if(lastMouseX>=workOffset.left+work.width()){from='right';}else if(lastMouseY<=workOffset.top){from='top';}else if(lastMouseY>=workOffset.top+work.height()){from='bottom';}
otherWorksThumb.stop(true).fadeTo(200,0,'linear');showWorkInfo(work,from);}else{if(mouseX<=workOffset.left){to='left';}else if(mouseX>=workOffset.left+work.width()){to='right';}else if(mouseY<=workOffset.top){to='top';}else if(mouseY>=workOffset.top+work.height()){to='bottom';}
allWorksThumb.stop(true).fadeTo(200,1,'linear');hideWorkInfo(work,to);}});function showWorkInfo(work,from){var info=work.find('.info');if(info.queue('fx').length==0){if(from=='top')
info.css({top:-work.height(),left:0});else if(from=='right')
info.css({top:0,left:work.width()});else if(from=='bottom')
info.css({top:work.height(),left:0});else
info.css({top:0,left:-work.width()});}
info.stop(true).animate({top:0,left:0},{duration:300,easing:'easeInOutQuad'});}
function hideWorkInfo(work,to){var info=work.find('.info');var destinationTop=0;var destinationLeft=0;if(to=='top')
destinationTop=-work.height();else if(to=='right')
destinationLeft=work.width();else if(to=='bottom')
destinationTop=work.height();else
destinationLeft=-work.width();info.animate({top:destinationTop,left:destinationLeft},{duration:300,easing:'easeInOutQuad'});}
var workSide=null;var workSlideshowDuration=4000;var workSlideshowTimeout='';var workSlideshowIsLoading=false;function workSlideshowResize(){$('[id="work-slideshow"]').each(function(){var slideshow=$(this);if(slideshow.length==1){if(workanimationnow){var nextSlide=$('[id="work"] .next-slide');nextSlide.stop(true,true);workanimationnow=false;}
var slideshowImages=slideshow.find('.slide img');var workContent=$(this).siblings('#work-content');var workContentTop=Number(workContent.css('margin-top').replace('px',''));var workHeader=$(this).siblings('#work-content').find('#work-header');slideshow.height($(window).height()+workContentTop);slideshowImages.each(function(){var ratio=$(this).attr('data-ratio');$(this).width(slideshow.width());$(this).height(slideshow.width()/ratio);
if($(this).height()<slideshow.height()){$(this).height(slideshow.height());$(this).width(slideshow.height()*ratio);}
var newLeft=(slideshow.width()-$(this).width())/2;
var newTop=(slideshow.height()-$(this).height())/2;
$(this).css({top:newTop,left:newLeft});});}});}
$('body').on('click','#work-slideshow .pagination a',function(e){if(!$(this).hasClass('current')&&workSlideshowIsLoading===false){workSlideshowIsLoading=true;workSlideshowSwitch($(this).index(),'right');}
e.preventDefault();});$('html.no-touch:not(.lt-ie9) body').on('mousemove','#work-slideshow .navigation',function(e){e=jQuery.event.fix(e);var arrows=$(this).find('a');var leftArrow=arrows.filter('.prev');var rightArrow=arrows.filter('.next');if(e.pageX<$(window).width()/2 && leftArrow.is(':hidden')) {
leftArrow.stop().fadeIn(200);rightArrow.hide();}else if(e.pageX>=$(window).width()/2 && rightArrow.is(':hidden')) {
rightArrow.stop().fadeIn(200);leftArrow.hide();}
arrows.css({top:e.pageY+ 80,left:e.pageX- 25});});$('html.no-touch:not(.lt-ie9) body').on('mouseleave','#work-slideshow .navigation',function(e){$(this).find('a').hide();});$('body').on('click','.navtop a',function(e){if(workSlideshowIsLoading===false){workSlideshowIsLoading=true;var nextLink=null;var nextLinkIndex=null;if($(this).hasClass('prev')){nextLink=$('#work-slideshow .pagination a.current').prev('a');if(nextLink.length!=1)
nextLink=$('#work-slideshow .pagination a:last');}else{nextLink=$('#work-slideshow .pagination a.current').next('a');if(nextLink.length!=1)
nextLink=$('#work-slideshow .pagination a:first');}
nextLinkIndex=nextLink.index();if($(this).hasClass('prev')){workSlideshowSwitch(nextLinkIndex,'left');}else{workSlideshowSwitch(nextLinkIndex,'right');}}
e.preventDefault();});var workanimationnow=false;function workSlideshowSwitch(index,side){$('[id="work"]').last().each(function(){if($(this).find('.slide').length<=1)
return;workanimationnow=true;var paginationLink=$(this).find('.pagination a');var paginationCurrentLink=paginationLink.eq(index);var currentSlide=$(this).find('.current-slide');var currentSlideIndex=$(this).find('.current-slide').index('.slide');var nextSlide=$(this).find('.slide').eq(index);var nextSlideIndex=index;var startPoint=$(window).width();var endPoint=-$(window).width();if(side=='left'){startPoint=-startPoint;endPoint=-endPoint;}
nextSlide.css({left:startPoint}).addClass('next-slide');paginationLink.removeClass('current');paginationCurrentLink.addClass('current');currentSlide.stop(true).animate({left:endPoint},{duration:1000,easing:'easeInOutCubic'});nextSlide.stop(true).animate({left:0},{duration:1000,easing:'easeInOutCubic',complete:function(){currentSlide.removeClass('current-slide').attr('style','');nextSlide.addClass('current-slide').removeClass('next-slide').attr('style','');workSlideshowIsLoading=false;controlWorkSlideshow(true);workanimationnow=false;}});});}
function workSlideshowNext(){$('#work .navtop .next').click();}
function controlWorkSlideshow(start){$('body').removeClass('white black');clearTimeout(workSlideshowTimeout);if(start){$('body').addClass($('#work-slideshow .current-slide').attr('data-theme'));workSlideshowTimeout=setTimeout(workSlideshowNext,workSlideshowDuration);}}
$('body').on('click','#work .navtop a',function(e){if($(this).hasClass('prev')){workSide='prev';}else{workSide='next';}});$('body').on('click','.close-work',function(e){if(pageLoading==true)
return;var pageLoader=$('.loaderajax');var works=$('#works');var work=$('#work');var homeSlideShow=$("#home-slideshow");var workSlideshow=work.find('#work-slideshow');var workContent=work.find('#work-content');clearTimeout(workSlideshowTimeout);pageLoading=true;$('#head .close-work').fadeOut(300,'linear',function(){pageLoader.fadeIn(300,'linear');});var allow_trigger=true;var currentScroll=$(window).scrollTop();var time=1000;if(currentScroll<3000){time=parseInt(currentScroll*0.4);}
var args={scrollTop:0};if($("html").hasClass("smallscreen")){args={scrollTop:0,scrollLeft:0};}
$('html, body').stop(true).animate(args,{duration:1000,easing:'easeInOutCubic',complete:function(){if(allow_trigger){allow_trigger=false;work.css({position:'fixed',top:0,left:0,width:'100%',height:'100%'});if(works.length>0){works.show();gotocontentanimation(works);$('body').addClass('black');titleescaped=$('<div />').html(historytitle).text();document.title=titleescaped;}else{$("#page-background, #page-content").show();if(homeSlideShow.length>0){homeSlideShow.show();controlHomeSlideshow(true);}
gotocontentanimation($("#page-content"));}
$("#work-header").animate({marginTop:-100,opacity:0},{duration:200,easing:'easeInOutCubic'});workSlideshow.animate({top:-workSlideshow.height()},{duration:1000,easing:'easeInOutCubic'});workContent.animate({marginTop:0},{duration:1000,easing:'easeInOutCubic',complete:function(){work.remove();$("style#projectcolor").remove();$("body").removeClass("projectcolor");newColor=$("html > body").data("color");changeSiteHeading(newColor);pageLoader.fadeOut(300,'linear',function(){$('#heading-phrase ul li').animate({opacity:1},300);});if(homeSlideShow.length>0){dataid='home';}else{dataid='creations';}
pageInit(dataid);$('#nav-main .current').removeClass('current');$('#nav-main a[data-id="'+dataid+'"]').addClass('current');$("body").removeClass("openwork");if(works.length>0&&historyscroll>0){var allow_trigger_gotohistory=true;$('html, body').stop(true).animate({scrollTop:historyscroll},{duration:400,easing:'easeInOutCubic',complete:function(){if(allow_trigger_gotohistory){allow_trigger_gotohistory=false;}}});}
pageLoading=false;}});}}});e.preventDefault();});$('body').on('click','#ie-warning, #ie-warning .close, #wpcf7-error-output, #wpcf7-error-output .close',function(e){var output=$(this).find('.output');if(output.length!=1)
$(this).closest('.output');output.animate({height:0},{duration:500,easing:'easeInCubic',complete:function(){output.attr('style','display:none;');output.parent().delay(100).fadeOut(300,'linear');}});e.preventDefault();});$('body').on('click','#tablettes-portrait, #tablettes-portrait .close, #mobiles-all, #mobiles-all .close',function(e){var output=$(this).find('.output');if(output.length!=1)
$(this).closest('.output');output.animate({height:0},{duration:500,easing:'easeInCubic',complete:function(){output.attr('style','display:none;');output.parent().delay(100).fadeOut(300,'linear',function(){$(this).remove();});}});e.preventDefault();});$(document).on('ajaxComplete',function(xhr,s){if(s.responseText.indexOf('{')!=0)
return;var response=$.parseJSON(s.responseText);if(typeof(response.mailSent)!='boolean')
return;if(response.mailSent===false){var container=$('#wpcf7-error-output');var output=container.find('.output');var outputHeight=0;var paragraph=output.find('p');paragraph.html(response.message);container.show();output.show();outputHeight=output.height();container.hide();output.height(0);container.fadeIn(300,'linear');output.delay(100).animate({height:outputHeight},{duration:500,easing:'easeOutCubic'});}else{var form=$('.wpcf7-form');var output=$('#wpcf7-success-output');form.css({position:'absolute'}).fadeOut(300,'linear');output.hide().html(response.message).fadeIn(300,'linear');}});function wpcf7Init(){try{if(typeof _wpcf7=='undefined'||_wpcf7===null)
_wpcf7={};_wpcf7=$.extend({cached:0},_wpcf7);$('div.wpcf7 > form').ajaxForm({beforeSubmit:function(formData,jqForm,options){jqForm.wpcf7ClearResponseOutput();jqForm.find('img.ajax-loader').css({visibility:'visible'});jqForm.find('.submit-button').attr("disabled","disabled");return true;},beforeSerialize:function(jqForm,options){jqForm.find('.wpcf7-use-title-as-watermark.watermark').each(function(i,n){$(n).val('');});return true;},data:{'_wpcf7_is_ajax_call':1},dataType:'json',success:function(data){$(data.into).find('.submit-button').removeAttr("disabled");var ro=$(data.into).find('div.wpcf7-response-output');$(data.into).wpcf7ClearResponseOutput();$(data.into).find('.wpcf7-form-control').removeClass('wpcf7-not-valid');$(data.into).find('form.wpcf7-form').removeClass('invalid spam sent failed');if(data.captcha)
$(data.into).wpcf7RefillCaptcha(data.captcha);if(data.quiz)
$(data.into).wpcf7RefillQuiz(data.quiz);if(data.invalids){$.each(data.invalids,function(i,n){$(data.into).find(n.into).wpcf7NotValidTip(n.message);$(data.into).find(n.into).find('.wpcf7-form-control').addClass('wpcf7-not-valid');});ro.addClass('wpcf7-validation-errors');$(data.into).find('form.wpcf7-form').addClass('invalid');$(data.into).trigger('invalid.wpcf7');}else if(1==data.spam){ro.addClass('wpcf7-spam-blocked');$(data.into).find('form.wpcf7-form').addClass('spam');$(data.into).trigger('spam.wpcf7');}else if(1==data.mailSent){ro.addClass('wpcf7-mail-sent-ok');$(data.into).find('form.wpcf7-form').addClass('sent');if(data.onSentOk)
$.each(data.onSentOk,function(i,n){eval(n)});$(data.into).trigger('mailsent.wpcf7');}else{ro.addClass('wpcf7-mail-sent-ng');$(data.into).find('form.wpcf7-form').addClass('failed');$(data.into).trigger('mailfailed.wpcf7');}
if(data.onSubmit)
$.each(data.onSubmit,function(i,n){eval(n)});$(data.into).trigger('submit.wpcf7');if(1==data.mailSent)
$(data.into).find('form').resetForm().clearForm();$(data.into).find('.wpcf7-use-title-as-watermark.watermark').each(function(i,n){$(n).val($(n).attr('title'));});$(data.into).wpcf7FillResponseOutput(data.message);}});$('div.wpcf7 > form').each(function(i,n){if(_wpcf7.cached)
$(n).wpcf7OnloadRefill();$(n).wpcf7ToggleSubmit();$(n).find('.wpcf7-submit').wpcf7AjaxLoader();$(n).find('.wpcf7-acceptance').click(function(){$(n).wpcf7ToggleSubmit();});$(n).find('.wpcf7-exclusive-checkbox').each(function(i,n){$(n).find('input:checkbox').click(function(){$(n).find('input:checkbox').not(this).removeAttr('checked');});});$(n).find('.wpcf7-use-title-as-watermark').each(function(i,n){var input=$(n);input.val(input.attr('title'));input.addClass('watermark');input.focus(function(){if($(this).hasClass('watermark'))
$(this).val('').removeClass('watermark');});input.blur(function(){if(''==$(this).val())
$(this).val($(this).attr('title')).addClass('watermark');});});$(n).find('#contact-email').each(function(i,n){var input=$(n);input.focus(function(){$(this).closest("p").find("label").hide();});input.blur(function(){if(''==$(this).val())
$(this).closest("p").find("label").show();});});});}catch(e){}}
checkCustomForm();$(window).trigger('resize');});function checkCustomForm(){initCustomSelect(null);}
function initCustomSelect(element_id){var element=$('.custom-select');if(element_id!=null)
element=$('#'+element_id);element.each(function(){var replacedSelect=$(this);replacedSelect.hide();replacedSelect.next('.replaced-select').remove();var label=$('label[for="'+$(this).attr('id')+'"]');var options=$(this).find('option');var newOptions=$('<ul class="options"></ul>');var newSelect=$('<div class="replaced-select"></div>')
var newSelectInner=$('<div class="inner"></div>')
var newSelectOuter=$('<div class="outer"></div>')
var newLabel=$('<div class="label">'+label.html()+'</div>');if($(this).hasClass('no-label'))
newLabel.html(options.filter(':selected').html());newSelectInner.prepend(newLabel);newLabel.on('click',function(e){$(this).closest('.replaced-select').toggleClass('opened');});options.each(function(){newOptions.append($('<li class="option" data-value="'+$(this).val()+'">'+$(this).html()+'</li>'));})
newSelectInner.append(newOptions);newOptions.on('click','.option',function(e){replacedSelect.val($(this).attr('data-value')).change();newLabel.html($(this).html());newSelect.removeClass('opened');});replacedSelect.on('change',function(e){newLabel.html($(this).find(':selected').html());});newSelect.append(newSelectInner);newSelect.append(newSelectOuter);newSelect.insertAfter($(this));});$('body').on('click',function(e){if($(e.target).hasClass('outer')||$(e.target).closest('.replaced-select').length==0){$('.replaced-select').removeClass('opened');}});}
var frameWidth=30;var frameHeight=30;var spriteWidth=1800;var spriteHeight=30;var spriteElement=$(".loaderajax");var curPx=0;var ti;function animateLoading(){spriteElement.css("background-position",-curPx+'px 0px');curPx=curPx+ frameWidth;if(curPx>=spriteWidth){curPx=0;}
setTimeout(animateLoading,45);}
animateLoading();